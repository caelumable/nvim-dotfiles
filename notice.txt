because of the poor net, the mason may have  difficulty downloading the lspserver.

so, we may have to register the downloaded package to mason

there are the following steps:

1.find the register path:

 vim.fn.stdpath("data") \nvim-data\mason\registries\github\mason-org\mason-registry\registry.json

 and find the lspserver you want to install,like clangd.

 here is the content you have to pay attention to:

{
    "name": "clangd",
    "source": {
      "id": "pkg:github/clangd/clangd@17.0.3",
      "asset": [
        {
          "target": [
            "darwin_x64",
            "darwin_arm64"
          ],
          "file": "clangd-mac-{{version}}.zip",
          "bin": "clangd_{{version}}/bin/clangd"
        },
        {
          "target": "linux_x64_gnu",
          "file": "clangd-linux-{{version}}.zip",
          "bin": "clangd_{{version}}/bin/clangd"
        },
        {
          "target": "win_x64",
          "file": "clangd-windows-{{version}}.zip",
          "bin": "clangd_{{version}}/bin/clangd.exe"
        }
      ]
    },
    "bin": {
      "clangd": "{{source.asset.bin}}"
    }
  },


  2.make a dir in 
  vim.fn.stdpath("data") \nvim-data\mason\packages

  and the name is the "name", just mkdir clangd

  
  3.in the clangd dir

  make a dir named venv, and extract the clangd packages in this folder,

  and look the path upon, the path would be : ../clangd/venv/bin/clangd.exe


  4.in the clangd dir

  touch a file, named mason-receipt.json

  and past the following content


  {"primary_source":{"id":"pkg:github\/clangd\/clangd@17.0.3","type":"registry+v1"},"schema_version":"1.1","name":"clangd","metrics":{"start_time":1710032479351,"completion_time":1710032492039},"links":{"bin":{"clangd.cmd":"venv\\bin\\clangd.exe"},"opt":{},"share":{}},"secondary_sources":[]}


  the id is the source.id in registry.json  and the links.bin gives the path from clangd\venv



5.touch a file named clangd.cmd(on windows) in 
vim.fn.stdpath('data') \nvim-data\mason\bin

and the content are:

@ECHO off
GOTO start
:find_dp0
SET dp0=%~dp0
EXIT /b
:start
SETLOCAL
CALL :find_dp0

endLocal & goto #_undefined_# 2>NUL || title %COMSPEC% & "C:\Users\guangdian\AppData\Local\nvim-data\mason\packages\clangd\venv\bin\clangd.exe" %*


only the last sentence is about to change,and you have to give the path to clangd.exe







注意，在windows下，使用llvm作为编译器，这样treesitter的编译才能成功
